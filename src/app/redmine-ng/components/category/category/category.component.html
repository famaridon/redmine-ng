<span [ngSwitch]="mode" class="si-select">

  <ng-container *ngSwitchCase="'write'">
    <select [(ngModel)]="nextValue" siAutoFocus (keyup.enter)="validateChanges()" (keyup.esc)="undoChanges()" [compareWith]="compareFn">
      <option *ngFor="let option of availableOptions" [ngValue]="option">{{option.getDisplayLabel()}}</option>
    </select>
    <button type="button" (click)="validateChanges()" class="btn btn-link btn-sm"><i class="fa fa-check"></i></button>
    <button type="button" (click)="undoChanges()" class="btn btn-link btn-sm"><i class="fa fa-undo"></i></button>
  </ng-container>

  <ng-container *ngSwitchCase="'read'">
    <span *ngIf="value; else empty_value" (click)="switchMode()" class="rm-category">{{value.getDisplayLabel()}}</span>

    <ng-template #empty_value>
      <span class="si-empty-value"></span>
    </ng-template>

  </ng-container>

</span>
